(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d212f66"],{ab3b:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("CContainer",[s("CCard",{staticClass:"my-4"},[s("CCardHeader",[s("div",{staticClass:"mb-3 p-3 bg-white text-center "},[s("h3",{staticClass:"pt-3 mb-2"},[e._v("請確認您的訂單")]),s("small",{staticClass:"text-danger"},[e._v("※如需更改或取消請來電 "),s("a",{attrs:{href:"tel:+886-89-325261"}},[e._v("089-325261")])])])])],1),s("div",{staticClass:"text-center"},[e._v(" 共 "),s("span",[e._v(e._s(e.orders.length))]),e._v(" 筆")]),e._l(e.orders,(function(t,n){return s("CCard",{key:n,staticClass:"my-4"},[s("CCardHeader",{staticClass:"d-flex align-items-center"},[s("h4",[e._v("訂單編號 ")]),s("h1",{staticClass:"ml-3"},[e._v(e._s(t.no))])]),s("CCardBody",[s("div",[e._v("取餐時間："),s("span",[e._v(e._s(t.order_time))])]),s("div",[e._v("訂購姓名："+e._s(t.name))]),s("div",[e._v("聯絡電話："+e._s(t.phone))]),s("hr"),s("CDataTable",{attrs:{border:"",items:t.detail,fields:e.fields}}),s("div",{staticClass:"p-2 mb-2 bg-warning text-white text-center"},[e._v("總計 "),s("span",[e._v(e._s(t.count))]),e._v(" 樣菜 / 共 "),s("span",[e._v("$"+e._s(t.sum))])]),s("hr"),s("div",[e._v("備註：")]),s("h3",{domProps:{innerHTML:e._s(t.note)}})],1)],1)}))],2),s("Loading",{attrs:{isLoading:e.isLoading}})],1)},r=[],a=s("c1df"),i=s.n(a),o=s("45d6");function c(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(d){return void s(d)}o.done?t(c):Promise.resolve(c).then(n,r)}function d(e){return function(){var t=this,s=arguments;return new Promise((function(n,r){var a=e.apply(t,s);function i(e){c(a,n,r,i,o,"next",e)}function o(e){c(a,n,r,i,o,"throw",e)}i(void 0)}))}}var l=s("31ac"),u=l.getSettingDoc,h=s("75b7"),v=h.getOrderDoc,_=[{key:"title",label:"餐點"},{key:"number",label:"數量"},{key:"sum",label:"小計"}],f={name:"History",data:function(){return{isLoading:!0,sheetSettings:{},orderSheet:null,orders:[],fields:_}},components:{Loading:o["a"]},created:function(){this.accessSpreadSheet()},methods:{accessSpreadSheet:function(){var e=this;return d(regeneratorRuntime.mark((function t(){var s,n,r,a,o,c,d,l,h,_,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u();case 2:return s=t.sent,t.next=5,v();case 5:return n=t.sent,r=s.sheetsByTitle["表單列表"],t.next=9,r.getRows();case 9:a=t.sent,o=0;case 11:if(!(o<a.length)){t.next=20;break}if(c=a[o],!i()().isAfter(c.start_time)||!i()().isBefore(c.end_time)){t.next=17;break}return e.sheetSettings=c,e.orderSheet=n.sheetsByTitle[c.sheetTitle],t.abrupt("break",20);case 17:o++,t.next=11;break;case 20:return d=n.sheetsByTitle[e.sheetSettings.sheetTitle],t.next=23,d.getRows();case 23:for(l=t.sent,h=0;h<l.length;h++)_=l[h],f=e.$cookies.get("phone"),_["phone"]==f&&(_.detail=JSON.parse(_.detail),_.no=h+1,e.orders.push(_));e.isLoading=!1;case 26:case"end":return t.stop()}}),t)})))()}}},p=f,m=s("2877"),g=Object(m["a"])(p,n,r,!1,null,null,null);t["default"]=g.exports}}]);
//# sourceMappingURL=chunk-2d212f66.4b632393.js.map